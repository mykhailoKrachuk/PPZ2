<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Log In</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="page">
  <header class="topbar right">
    <nav style="margin-right: 50px;"><a class="link-btn" href="index.html">Wyszukaj Przesyłkę</a></nav>
  </header>

  <main class="panel">
    <h1 class="panel-title">Log In</h1>

    <!-- добавлены method и action -->
    <form id="loginForm" class="form-narrow centered" autocomplete="off" method="post" action="/backend/login.php">
      <label for="login" class="visually-hidden">Login</label>
      <!-- добавлено name="login" -->
      <input id="login" class="input" type="text" name="login" placeholder="Login" required>

      <label for="password" class="visually-hidden">Hasło</label>
      <!-- добавлено name="password" -->
      <input id="password" class="input" type="password" name="password" placeholder="Password" required>

      <label for="role" class="visually-hidden">Rola</label>
      <!-- убрано required: селект больше не влияет на авторизацию -->
      <select id="role" class="input">
        <option value="" disabled selected>Wybierz rolę</option>
        <option value="Klient">Klient</option>
        <option value="Pracownik">Pracownik</option>
        <option value="Dział dostaw">Dział dostaw</option>
      </select>

      <button class="primary" type="submit">zaloguj się</button>
      <button class="primary" type="button" onclick="window.location.href='register.html'">Zarejestruj się</button>

      <div class="error" style="margin-top:8px;">
        <script>
          const map = {
            empty   : 'Podaj login i hasło.',
            badcreds: 'Nieprawidłowy login lub hasło.',
            auth    : 'Zaloguj się, aby kontynuować.'
          };
          const k = new URLSearchParams(location.search).get('err');
          if (map[k]) document.write('<p>'+map[k]+'</p>');
        </script>
      </div>
    </form>
  </main>
</div>

</body>
</html>
